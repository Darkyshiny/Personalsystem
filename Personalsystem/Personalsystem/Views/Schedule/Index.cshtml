@model Personalsystem.Models.VM.EventVM

@{
    ViewBag.Title = "Events";
}


<style>
    body {
        font-family: Helvetica, sans-serif;
        font-weight: 200;
        font-size: 12px;
        text-align: justify;
        text-justify: inter-word;
    }

    .weekdayCol .col-xs-1 {
        padding: 0;
        margin: 0;
        width: 14.285714285714285714285714285714%;
    }

    .topmenu {
        padding: 10px;
        text-align: center;
    }

    .scheduleContainer {
        padding: 2% 4% 2% 4%;
    }

    .weekdayContainer {
        width: 100%;
        height: 100%;
        border-radius: 10px;
    }

        .weekdayContainer:first-child {
        }

        .weekdayContainer h3 {
            font-size: 1em;
            font-weight: 300;
            margin: 0px;
            padding: 10px 0px 10px 0px;
            text-align: center;
        }

    .hourSlot {
        transition: 0.3s ease;
        width: 80%;
        height: 30px;
        padding: 5px;
        margin: 0 auto 5px auto;
        background-color: #ebebeb;
        border-radius: 5px;
        border: 1px solid lightgray;
    }

    .weekend .hourSlot {
        border: 1px solid lightcoral;
    }

        .weekend .hourSlot:hover {
            transition: 0.3s ease;
            background-color: lightcoral;
        }

    .hourSlot:hover {
        background-color: lightgray;
    }

    .hourSlot:active {
        background-color: orange;
    }

    .description {
        -webkit-transition: 0.5s;
        z-index: 3;
        position: absolute;
        box-shadow: #808080 0px 0px 40px;
        width: 300px;
        height: auto;
        padding: 12px;
        margin: 0 auto;
    }

        .description:first-letter {
            padding-right: 8px;
            font-size: 3em;
            line-height: 0.8em;
            padding-top: 3px;
            display: block;
            float: left;
            font-family: Georgia;
        }

        .description.ng-enter {
            opacity: 0;
            transform: translateY(-20px);
        }

            .description.ng-enter.ng-enter-active {
                opacity: 1;
                transform: translateY(0px);
            }

        .description.ng-leave {
            opacity: 1;
            transform: translateY(0px);
        }

            .description.ng-leave.ng-leave-active {
                opacity: 0;
                transform: translateY(-20px);
            }
</style>

@{var loopcount = 0;}

@using (Html.BeginForm())
{ 
<div class="row topmenu">
    <div class="col-xs-2">
        @Html.ActionLink("Last week", "Index", "Schedule", new { setWeek = Model.week - 1 }, null)
    </div>
    <div class="col-xs-8">
        @ViewBag.Menu
        @ViewBag.Menu2
        @Html.ActionLink("Create event", "Create", "Schedule")
    </div>
    <div class="col-xs-2">
        @Html.ActionLink("Next week", "Index", "Schedule", new { setWeek = Model.week + 1 }, null)
    </div>
</div>
}

<div class="row" ng-controller="scheduleController">
    <div class="col-xs-12 scheduleContainer">
        <div class="row weekdayCol"> 
            <div class="col-xs-1">
                <div class="weekdayContainer" id="monday">
                    <h3>Mon</h3>
                    @foreach (var item in Model.eventList)
                    {

                        if (Model.e.DayFinder(item.Time) == 1)
                        {
                            loopcount++;
                            <div class="hourSlot" ng-click="hourSlotToggle(@loopcount)">@item.Title</div>
                            <div class="hourSlot description" ng-if="displayByInt == @loopcount" ng-animate=" 'animate' ">@item.Content</div>

                        }

                    }

                </div>
            </div>
            <div class="col-xs-1">
                <div class="weekdayContainer" id="tuesday">
                    <h3>Tue</h3>

                    @foreach (var item in Model.eventList)
                    {

                        if (Model.e.DayFinder(item.Time) == 2)
                        {
                            loopcount++;
                            <div class="hourSlot" ng-click="hourSlotToggle(@loopcount)">@item.Title</div>
                            <div class="hourSlot description" ng-if="displayByInt == @loopcount" ng-animate=" 'animate' ">@item.Content</div>

                        }

                    }

                </div>
            </div>
            <div class="col-xs-1">
                <div class="weekdayContainer" id="wednesday">
                    <h3>Wed</h3>

                    @foreach (var item in Model.eventList)
                    {

                        if (Model.e.DayFinder(item.Time) == 3)
                        {
                            loopcount++;
                            <div class="hourSlot" ng-click="hourSlotToggle(@loopcount)">@item.Title</div>
                            <div class="hourSlot description" ng-if="displayByInt == @loopcount" ng-animate=" 'animate' ">@item.Content</div>

                        }

                    }

                </div>
            </div>
            <div class="col-xs-1">
                <div class="weekdayContainer" id="thursday">
                    <h3>Thu</h3>

                    @foreach (var item in Model.eventList)
                    {

                        if (Model.e.DayFinder(item.Time) == 4)
                        {
                            loopcount++;
                            <div class="hourSlot" ng-click="hourSlotToggle(@loopcount)">@item.Title</div>
                            <div class="hourSlot description" ng-if="displayByInt == @loopcount" ng-animate=" 'animate' ">@item.Content</div>

                        }

                    }

                </div>
            </div>
            <div class="col-xs-1">
                <div class="weekdayContainer" id="friday">
                    <h3>Fri</h3>

                   @foreach (var item in Model.eventList)
                   {

                       if (Model.e.DayFinder(item.Time) == 5)
                       {
                           loopcount++;
                            <div class="hourSlot" ng-click="hourSlotToggle(@loopcount)">@item.Title</div>
                            <div class="hourSlot description" ng-if="displayByInt == @loopcount" ng-animate=" 'animate' ">@item.Content</div>

                        }

                    }

                </div>
            </div>
            <div class="col-xs-1">
                <div class="weekdayContainer weekend" id="saturday">
                    <h3>Sat</h3>

                    @foreach (var item in Model.eventList)
                    {

                        if (Model.e.DayFinder(item.Time) == 6)
                        {
                            loopcount++;
                            <div class="hourSlot" ng-click="hourSlotToggle(@loopcount)">@item.Title</div>
                            <div class="hourSlot description" ng-if="displayByInt == @loopcount" ng-animate=" 'animate' ">@item.Content</div>

                        }

                    }

                </div>
            </div>
            <div class="col-xs-1">
                <div class="weekdayContainer weekend" id="sunday">
                    <h3>Sun</h3>

                    @foreach (var item in Model.eventList)
                    {

                        if (Model.e.DayFinder(item.Time) == 7)
                        {
                            loopcount++;
                            <div class="hourSlot" ng-click="hourSlotToggle(@loopcount)">@item.Title</div>
                            <div class="hourSlot description" ng-if="displayByInt == @loopcount" ng-animate=" 'animate' ">@item.Content</div>

                        }

                    }

                </div>
            </div>
        </div>
    </div>
</div>

